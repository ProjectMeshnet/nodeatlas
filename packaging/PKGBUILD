# Maintainer: Alexander Bauer <sasha@crofter.org>
pkgname=nodeatlas
pkgver=$(git describe --dirty=+ | sed 's/-/_/g')
pkgrel=1
pkgdir='/'
pkgdesc="Federated node mapping for mesh networks"
url="https://github.com/ProjectMeshnet/nodeatlas"
arch=('x86_64' 'i686')
license=('GPLv3')
depends=()
optdepends=()
makedepends=('go>=1.2')
conflicts=()
replaces=()
backup=()
install='Makefile'

# Set the git version here so that it's easy to get to.
gitver=$(git rev-parse HEAD)

source=("${url}/archive/${gitver}.tar.gz")

# Checksums are generated by updpkgsums prior to build.
md5sums=()

build() {
  cd "${srcdir}/${pkgname}-${gitver}"
  DESTDIR="${pkgdir}" prefix="/usr" make
}

package() {
  cd "${srcdir}/${pkgname}-${gitver}"
  DESTDIR="${pkgdir}" prefix="/usr" make install
  #install -Dm644 COPYING "$pkgdir/usr/share/licenses/$pkgname/COPYING"
}

# vim:set ts=2 sw=2 et:
